{"version":3,"sources":["../../../node_modules/spin.js/spin.js","searchwp-live-ajax-search.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","defaults","lines","width","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","className","top","left","shadow","position","Spinner","opts","spin","target","stop","el","document","createElement","setAttribute","css","transform","insertBefore","firstChild","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","parentNode","removeChild","undefined","props","prop","style","getColor","idx","borderRadius","Math","round","shadows","parseBoxShadow","degrees","backgroundLine","height","background","transformOrigin","delay","line","boxShadow","normalizeShadow","appendChild","regex","_i","_a","split","matches","match","x","y","xUnits","yUnits","push","prefix","end","normalized","shadows_1","xy","convertOffset","join","radians","PI","sin","cos","plugin_name","SearchwpLiveSearch","element","config","input_el","results_id","results_el","parent_el","results_showing","form_el","timer","last_string","spinner","spinner_showing","has_results","current_request","results_destroy_on_blur","a11y_keys","init","self","$input","parents","uniqid","valid_config","config_template","data","config_key","searchwp_live_search_params","default_key","alert","msg_no_config_found","engine","attr","instruction_id","after","aria_instructions","results_el_html","swpparentel","jQuery","html","append","position_results","window","resize","abort_on_enter","keyup","e","inArray","keyCode","abort","trim","val","destroy_results","addClass","show_spinner","empty","currentTarget","value","input","min_chars","removeClass","proxy","maybe_search","click","stopPropagation","keyboard_navigation","$results","focused_class","item_class","off","on","hasClass","preventDefault","is","focus","trigger","$current","find","next","$currentItem","prev","aria_expanded","is_expanded","$resultsEl","input_offset","offset","results_top_offset","parseInt","results","outerHeight","outerWidth","replace","hide_spinner","setTimeout","search","getElementById","$form","values","serialize","action","encodeURIComponent","origin_id","indexOf","ajax","url","ajaxurl","type","complete","success","response","more_entropy","retId","formatSeed","seed","reqWidth","toString","slice","Array","php_js","uniqidSeed","floor","random","Date","getTime","toFixed","fn","options","each","ready","$","searchwp_live_search"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,QAAQ,GAAI,UAAQ,SAAKA,QAAd,IAA2BC,MAAM,CAACC,MAAlC,IAA4C,UAASC,CAAT,EAAY;AACnE,OAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,IAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,SAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACP;;AACD,SAAON,CAAP;AACH,CAPD;;AAQA,IAAIU,QAAQ,GAAG;AACXC,EAAAA,KAAK,EAAE,EADI;AAEXN,EAAAA,MAAM,EAAE,CAFG;AAGXO,EAAAA,KAAK,EAAE,CAHI;AAIXC,EAAAA,MAAM,EAAE,EAJG;AAKXC,EAAAA,KAAK,EAAE,GALI;AAMXC,EAAAA,OAAO,EAAE,CANE;AAOXC,EAAAA,KAAK,EAAE,MAPI;AAQXC,EAAAA,SAAS,EAAE,aARA;AASXC,EAAAA,SAAS,EAAE,2BATA;AAUXC,EAAAA,MAAM,EAAE,CAVG;AAWXC,EAAAA,SAAS,EAAE,CAXA;AAYXC,EAAAA,KAAK,EAAE,CAZI;AAaXC,EAAAA,MAAM,EAAE,GAbG;AAcXC,EAAAA,SAAS,EAAE,SAdA;AAeXC,EAAAA,GAAG,EAAE,KAfM;AAgBXC,EAAAA,IAAI,EAAE,KAhBK;AAiBXC,EAAAA,MAAM,EAAE,qBAjBG;AAkBXC,EAAAA,QAAQ,EAAE;AAlBC,CAAf;;AAoBA,IAAIC,OAAO;AAAG;AAAe,YAAY;AACrC,WAASA,OAAT,CAAiBC,IAAjB,EAAuB;AACnB,QAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAEA,MAAAA,IAAI,GAAG,EAAP;AAAY;;AACnC,SAAKA,IAAL,GAAYhC,QAAQ,CAAC,EAAD,EAAKa,QAAL,EAAemB,IAAf,CAApB;AACH;AACD;;;;;;;AAKAD,EAAAA,OAAO,CAACrB,SAAR,CAAkBuB,IAAlB,GAAyB,UAAUC,MAAV,EAAkB;AACvC,SAAKC,IAAL;AACA,SAAKC,EAAL,GAAUC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACA,SAAKF,EAAL,CAAQV,SAAR,GAAoB,KAAKM,IAAL,CAAUN,SAA9B;AACA,SAAKU,EAAL,CAAQG,YAAR,CAAqB,MAArB,EAA6B,aAA7B;AACAC,IAAAA,GAAG,CAAC,KAAKJ,EAAN,EAAU;AACTN,MAAAA,QAAQ,EAAE,KAAKE,IAAL,CAAUF,QADX;AAETf,MAAAA,KAAK,EAAE,CAFE;AAGTU,MAAAA,MAAM,EAAE,KAAKO,IAAL,CAAUP,MAHT;AAITG,MAAAA,IAAI,EAAE,KAAKI,IAAL,CAAUJ,IAJP;AAKTD,MAAAA,GAAG,EAAE,KAAKK,IAAL,CAAUL,GALN;AAMTc,MAAAA,SAAS,EAAE,WAAW,KAAKT,IAAL,CAAUf,KAArB,GAA6B;AAN/B,KAAV,CAAH;;AAQA,QAAIiB,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAACQ,YAAP,CAAoB,KAAKN,EAAzB,EAA6BF,MAAM,CAACS,UAAP,IAAqB,IAAlD;AACH;;AACDC,IAAAA,SAAS,CAAC,KAAKR,EAAN,EAAU,KAAKJ,IAAf,CAAT;AACA,WAAO,IAAP;AACH,GAlBD;AAmBA;;;;;;AAIAD,EAAAA,OAAO,CAACrB,SAAR,CAAkByB,IAAlB,GAAyB,YAAY;AACjC,QAAI,KAAKC,EAAT,EAAa;AACT,UAAI,OAAOS,qBAAP,KAAiC,WAArC,EAAkD;AAC9CC,QAAAA,oBAAoB,CAAC,KAAKC,SAAN,CAApB;AACH,OAFD,MAGK;AACDC,QAAAA,YAAY,CAAC,KAAKD,SAAN,CAAZ;AACH;;AACD,UAAI,KAAKX,EAAL,CAAQa,UAAZ,EAAwB;AACpB,aAAKb,EAAL,CAAQa,UAAR,CAAmBC,WAAnB,CAA+B,KAAKd,EAApC;AACH;;AACD,WAAKA,EAAL,GAAUe,SAAV;AACH;;AACD,WAAO,IAAP;AACH,GAdD;;AAeA,SAAOpB,OAAP;AACH,CAjD4B,EAA7B;;;;AAmDA;;;AAGA,SAASS,GAAT,CAAaJ,EAAb,EAAiBgB,KAAjB,EAAwB;AACpB,OAAK,IAAIC,IAAT,IAAiBD,KAAjB,EAAwB;AACpBhB,IAAAA,EAAE,CAACkB,KAAH,CAASD,IAAT,IAAiBD,KAAK,CAACC,IAAD,CAAtB;AACH;;AACD,SAAOjB,EAAP;AACH;AACD;;;;;AAGA,SAASmB,QAAT,CAAkBpC,KAAlB,EAAyBqC,GAAzB,EAA8B;AAC1B,SAAO,OAAOrC,KAAP,IAAgB,QAAhB,GAA2BA,KAA3B,GAAmCA,KAAK,CAACqC,GAAG,GAAGrC,KAAK,CAACX,MAAb,CAA/C;AACH;AACD;;;;;AAGA,SAASoC,SAAT,CAAmBR,EAAnB,EAAuBJ,IAAvB,EAA6B;AACzB,MAAIyB,YAAY,GAAIC,IAAI,CAACC,KAAL,CAAW3B,IAAI,CAACd,OAAL,GAAec,IAAI,CAACjB,KAApB,GAA4B,GAAvC,IAA8C,IAA/C,GAAuD,IAA1E;AACA,MAAIc,MAAM,GAAG,MAAb;;AACA,MAAIG,IAAI,CAACH,MAAL,KAAgB,IAApB,EAA0B;AACtBA,IAAAA,MAAM,GAAG,gBAAT,CADsB,CACK;AAC9B,GAFD,MAGK,IAAI,OAAOG,IAAI,CAACH,MAAZ,KAAuB,QAA3B,EAAqC;AACtCA,IAAAA,MAAM,GAAGG,IAAI,CAACH,MAAd;AACH;;AACD,MAAI+B,OAAO,GAAGC,cAAc,CAAChC,MAAD,CAA5B;;AACA,OAAK,IAAIxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2B,IAAI,CAAClB,KAAzB,EAAgCT,CAAC,EAAjC,EAAqC;AACjC,QAAIyD,OAAO,GAAG,CAAC,EAAE,MAAM9B,IAAI,CAAClB,KAAX,GAAmBT,CAAnB,GAAuB2B,IAAI,CAACV,MAA9B,CAAf;AACA,QAAIyC,cAAc,GAAGvB,GAAG,CAACH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,EAAgC;AACpDR,MAAAA,QAAQ,EAAE,UAD0C;AAEpDH,MAAAA,GAAG,EAAE,CAACK,IAAI,CAACjB,KAAN,GAAc,CAAd,GAAkB,IAF6B;AAGpDA,MAAAA,KAAK,EAAGiB,IAAI,CAACxB,MAAL,GAAcwB,IAAI,CAACjB,KAApB,GAA6B,IAHgB;AAIpDiD,MAAAA,MAAM,EAAEhC,IAAI,CAACjB,KAAL,GAAa,IAJ+B;AAKpDkD,MAAAA,UAAU,EAAEV,QAAQ,CAACvB,IAAI,CAACZ,SAAN,EAAiBf,CAAjB,CALgC;AAMpDoD,MAAAA,YAAY,EAAEA,YANsC;AAOpDS,MAAAA,eAAe,EAAE,MAPmC;AAQpDzB,MAAAA,SAAS,EAAE,YAAYqB,OAAZ,GAAsB,kBAAtB,GAA2C9B,IAAI,CAAChB,MAAhD,GAAyD;AARhB,KAAhC,CAAxB;AAUA,QAAImD,KAAK,GAAG9D,CAAC,GAAG2B,IAAI,CAACT,SAAT,GAAqBS,IAAI,CAAClB,KAA1B,GAAkCkB,IAAI,CAACR,KAAnD;AACA2C,IAAAA,KAAK,IAAI,IAAInC,IAAI,CAACR,KAAlB,CAbiC,CAaR;;AACzB,QAAI4C,IAAI,GAAG5B,GAAG,CAACH,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAD,EAAgC;AAC1CvB,MAAAA,KAAK,EAAE,MADmC;AAE1CiD,MAAAA,MAAM,EAAE,MAFkC;AAG1CC,MAAAA,UAAU,EAAEV,QAAQ,CAACvB,IAAI,CAACb,KAAN,EAAad,CAAb,CAHsB;AAI1CoD,MAAAA,YAAY,EAAEA,YAJ4B;AAK1CY,MAAAA,SAAS,EAAEC,eAAe,CAACV,OAAD,EAAUE,OAAV,CALgB;AAM1CzC,MAAAA,SAAS,EAAE,IAAIW,IAAI,CAACR,KAAT,GAAiB,WAAjB,GAA+B2C,KAA/B,GAAuC,aAAvC,GAAuDnC,IAAI,CAACX;AAN7B,KAAhC,CAAd;AAQA0C,IAAAA,cAAc,CAACQ,WAAf,CAA2BH,IAA3B;AACAhC,IAAAA,EAAE,CAACmC,WAAH,CAAeR,cAAf;AACH;AACJ;;AACD,SAASF,cAAT,CAAwBQ,SAAxB,EAAmC;AAC/B,MAAIG,KAAK,GAAG,iFAAZ;AACA,MAAIZ,OAAO,GAAG,EAAd;;AACA,OAAK,IAAIa,EAAE,GAAG,CAAT,EAAYC,EAAE,GAAGL,SAAS,CAACM,KAAV,CAAgB,GAAhB,CAAtB,EAA4CF,EAAE,GAAGC,EAAE,CAAClE,MAApD,EAA4DiE,EAAE,EAA9D,EAAkE;AAC9D,QAAI5C,MAAM,GAAG6C,EAAE,CAACD,EAAD,CAAf;AACA,QAAIG,OAAO,GAAG/C,MAAM,CAACgD,KAAP,CAAaL,KAAb,CAAd;;AACA,QAAII,OAAO,KAAK,IAAhB,EAAsB;AAClB,eADkB,CACR;AACb;;AACD,QAAIE,CAAC,GAAG,CAACF,OAAO,CAAC,CAAD,CAAhB;AACA,QAAIG,CAAC,GAAG,CAACH,OAAO,CAAC,CAAD,CAAhB;AACA,QAAII,MAAM,GAAGJ,OAAO,CAAC,CAAD,CAApB;AACA,QAAIK,MAAM,GAAGL,OAAO,CAAC,CAAD,CAApB;;AACA,QAAIE,CAAC,KAAK,CAAN,IAAW,CAACE,MAAhB,EAAwB;AACpBA,MAAAA,MAAM,GAAGC,MAAT;AACH;;AACD,QAAIF,CAAC,KAAK,CAAN,IAAW,CAACE,MAAhB,EAAwB;AACpBA,MAAAA,MAAM,GAAGD,MAAT;AACH;;AACD,QAAIA,MAAM,KAAKC,MAAf,EAAuB;AACnB,eADmB,CACT;AACb;;AACDrB,IAAAA,OAAO,CAACsB,IAAR,CAAa;AACTC,MAAAA,MAAM,EAAEP,OAAO,CAAC,CAAD,CAAP,IAAc,EADb;AAETE,MAAAA,CAAC,EAAEA,CAFM;AAGTC,MAAAA,CAAC,EAAEA,CAHM;AAITC,MAAAA,MAAM,EAAEA,MAJC;AAKTC,MAAAA,MAAM,EAAEA,MALC;AAMTG,MAAAA,GAAG,EAAER,OAAO,CAAC,CAAD;AANH,KAAb;AAQH;;AACD,SAAOhB,OAAP;AACH;AACD;;;;;AAGA,SAASU,eAAT,CAAyBV,OAAzB,EAAkCE,OAAlC,EAA2C;AACvC,MAAIuB,UAAU,GAAG,EAAjB;;AACA,OAAK,IAAIZ,EAAE,GAAG,CAAT,EAAYa,SAAS,GAAG1B,OAA7B,EAAsCa,EAAE,GAAGa,SAAS,CAAC9E,MAArD,EAA6DiE,EAAE,EAA/D,EAAmE;AAC/D,QAAI5C,MAAM,GAAGyD,SAAS,CAACb,EAAD,CAAtB;AACA,QAAIc,EAAE,GAAGC,aAAa,CAAC3D,MAAM,CAACiD,CAAR,EAAWjD,MAAM,CAACkD,CAAlB,EAAqBjB,OAArB,CAAtB;AACAuB,IAAAA,UAAU,CAACH,IAAX,CAAgBrD,MAAM,CAACsD,MAAP,GAAgBI,EAAE,CAAC,CAAD,CAAlB,GAAwB1D,MAAM,CAACmD,MAA/B,GAAwC,GAAxC,GAA8CO,EAAE,CAAC,CAAD,CAAhD,GAAsD1D,MAAM,CAACoD,MAA7D,GAAsEpD,MAAM,CAACuD,GAA7F;AACH;;AACD,SAAOC,UAAU,CAACI,IAAX,CAAgB,IAAhB,CAAP;AACH;;AACD,SAASD,aAAT,CAAuBV,CAAvB,EAA0BC,CAA1B,EAA6BjB,OAA7B,EAAsC;AAClC,MAAI4B,OAAO,GAAG5B,OAAO,GAAGJ,IAAI,CAACiC,EAAf,GAAoB,GAAlC;AACA,MAAIC,GAAG,GAAGlC,IAAI,CAACkC,GAAL,CAASF,OAAT,CAAV;AACA,MAAIG,GAAG,GAAGnC,IAAI,CAACmC,GAAL,CAASH,OAAT,CAAV;AACA,SAAO,CACHhC,IAAI,CAACC,KAAL,CAAW,CAACmB,CAAC,GAAGe,GAAJ,GAAUd,CAAC,GAAGa,GAAf,IAAsB,IAAjC,IAAyC,IADtC,EAEHlC,IAAI,CAACC,KAAL,CAAW,CAAC,CAACmB,CAAD,GAAKc,GAAL,GAAWb,CAAC,GAAGc,GAAhB,IAAuB,IAAlC,IAA0C,IAFvC,CAAP;AAIH;;;;AC1LD;;AAEA,CAAC,YAAU;AACV,MAAIC,WAAW,GAAG,sBAAlB;;AAEA,WAASC,kBAAT,CAA6BC,OAA7B,EAAuC;AACtC,SAAKC,MAAL,GAAc,IAAd,CADsC,CAGtC;;AACA,SAAKC,QAAL,GAAgBF,OAAhB,CAJsC,CAIE;;AACxC,SAAKG,UAAL,GAAkB,IAAlB,CALsC,CAKE;;AACxC,SAAKC,UAAL,GAAkB,IAAlB,CANsC,CAME;;AACxC,SAAKC,SAAL,GAAiB,IAAjB,CAPsC,CAOE;;AACxC,SAAKC,eAAL,GAAuB,KAAvB,CARsC,CAQE;;AACxC,SAAKC,OAAL,GAAe,IAAf,CATsC,CASE;;AACxC,SAAKC,KAAL,GAAa,KAAb,CAVsC,CAUE;;AACxC,SAAKC,WAAL,GAAmB,EAAnB,CAXsC,CAWE;;AACxC,SAAKC,OAAL,GAAe,IAAf,CAZsC,CAYE;;AACxC,SAAKC,eAAL,GAAuB,KAAvB,CAbsC,CAaE;;AACxC,SAAKC,WAAL,GAAmB,KAAnB,CAdsC,CAcE;;AACxC,SAAKC,eAAL,GAAuB,KAAvB,CAfsC,CAeE;;AACxC,SAAKC,uBAAL,GAA+B,IAA/B,CAhBsC,CAgBE;;AACxC,SAAKC,SAAL,GAAiB,CAAE,EAAF,EAAM,EAAN,EAAU,EAAV,EAAc,EAAd,EAAkB,CAAlB,CAAjB,CAjBsC,CAiBE;AAExC;;AACA,SAAKC,IAAL;AACA;;AAEDjB,EAAAA,kBAAkB,CAACrF,SAAnB,GAA+B;AAE9B;AACAsG,IAAAA,IAAI,EAAE,gBAAU;AACf,UAAIC,IAAI,GAAG,IAAX;AAAA,UACCC,MAAM,GAAG,KAAKhB,QADf;AAEA,WAAKK,OAAL,GAAeW,MAAM,CAACC,OAAP,CAAe,YAAf,CAAf;AACA,WAAKhB,UAAL,GAAkB,KAAKiB,MAAL,CAAY,+BAAZ,CAAlB,CAJe,CAMf;;AACA,UAAIC,YAAY,GAAG,KAAnB;AACA,UAAIC,eAAe,GAAGJ,MAAM,CAACK,IAAP,CAAY,WAAZ,CAAtB;;AACA,UAAGD,eAAe,IAAI,OAAOA,eAAP,KAA2B,WAAjD,EAA8D;AAC7D;AACA,aAAK,IAAIE,UAAT,IAAuBC,2BAA2B,CAACxB,MAAnD,EAA2D;AAC1D,cAAIqB,eAAe,KAAKE,UAAxB,EAAqC;AACpCH,YAAAA,YAAY,GAAG,IAAf;AACA,iBAAKpB,MAAL,GAAcwB,2BAA2B,CAACxB,MAA5B,CAAmCuB,UAAnC,CAAd;AACA;AACD;AACD,OARD,MAQK;AACJ;AACA,aAAK,IAAIE,WAAT,IAAwBD,2BAA2B,CAACxB,MAApD,EAA4D;AAC3D,cAAI,cAAcyB,WAAlB,EAAgC;AAC/BL,YAAAA,YAAY,GAAG,IAAf;AACA,iBAAKpB,MAAL,GAAcwB,2BAA2B,CAACxB,MAA5B,CAAmCyB,WAAnC,CAAd;AACA;AACD;AACD,OAzBc,CA2Bf;;;AACA,UAAG,CAACL,YAAJ,EAAiB;AAChBM,QAAAA,KAAK,CAACF,2BAA2B,CAACG,mBAA7B,CAAL;AACA,OAFD,MAEK;AACJ;AACA,YAAIC,MAAM,GAAGX,MAAM,CAACK,IAAP,CAAY,WAAZ,CAAb;;AACA,YAAIM,MAAJ,EAAa;AACZ,eAAK5B,MAAL,CAAY4B,MAAZ,GAAqBA,MAArB;AACA;;AAEDX,QAAAA,MAAM,CAACK,IAAP,CAAY,WAAZ,EAAwB,KAAKtB,MAAL,CAAY4B,MAApC,EAPI,CASJ;;AACAX,QAAAA,MAAM,CAACY,IAAP,CAAY,cAAZ,EAA2B,KAA3B,EAVI,CAYJ;;AACA,YAAIC,cAAc,GAAG,KAAK5B,UAAL,GAAmB,eAAxC;AACAe,QAAAA,MAAM,CAACY,IAAP,CAAa,kBAAb,EAAiCC,cAAjC;AACAb,QAAAA,MAAM,CAACY,IAAP,CAAa,WAAb,EAA0B,KAAK3B,UAA/B;AACAe,QAAAA,MAAM,CAACY,IAAP,CAAa,mBAAb,EAAkC,MAAlC;AAEAZ,QAAAA,MAAM,CAACc,KAAP,CAAc,yEAAyED,cAAzE,GAA0F,IAA1F,GAAiGN,2BAA2B,CAACQ,iBAA7H,GAAiJ,MAA/J,EAlBI,CAoBJ;;AACA,YAAIC,eAAe,GAAG,yEAAyE,KAAK/B,UAA9E,GAA2F,sCAAjH,CArBI,CAuBJ;;AACA,YAAIgC,WAAW,GAAGjB,MAAM,CAACK,IAAP,CAAY,aAAZ,CAAlB;;AACA,YAAIY,WAAJ,EAAiB;AAChB;AACA,eAAK9B,SAAL,GAAiB+B,MAAM,CAACD,WAAD,CAAvB;AACA,eAAK9B,SAAL,CAAegC,IAAf,CAAoBH,eAApB;AACA,SAJD,MAIO,IAAI,KAAKjC,MAAL,CAAYI,SAAhB,EAA2B;AACjC;AACA,eAAKA,SAAL,GAAiB+B,MAAM,CAAC,KAAKnC,MAAL,CAAYI,SAAb,CAAvB;AACA,eAAKA,SAAL,CAAegC,IAAf,CAAoBH,eAApB;AACA,SAJM,MAIA;AACN;AACAE,UAAAA,MAAM,CAAC,MAAD,CAAN,CAAeE,MAAf,CAAsBF,MAAM,CAACF,eAAD,CAA5B;AACA;;AAED,aAAK9B,UAAL,GAAkBgC,MAAM,CAAC,MAAI,KAAKjC,UAAV,CAAxB;AACA,aAAKoC,gBAAL;AACAH,QAAAA,MAAM,CAACI,MAAD,CAAN,CAAeC,MAAf,CAAsB,YAAU;AAC/BxB,UAAAA,IAAI,CAACsB,gBAAL;AACA,SAFD,EAxCI,CA4CJ;;AACA,YAAG,KAAKtC,MAAL,CAAYS,OAAf,EAAuB;AACtB;AACA;AACA;AACA,cAAG,OAAO,KAAKT,MAAL,CAAYS,OAAZ,CAAoBzF,KAA3B,KAAqC,WAAxC,EAAoD;AACnD,iBAAKgF,MAAL,CAAYS,OAAZ,CAAoBzF,KAApB,GAA4B,CAA5B;AACA;;AACD,cAAG,OAAO,KAAKgF,MAAL,CAAYS,OAAZ,CAAoBtF,SAA3B,KAAyC,WAA5C,EAAwD;AACvD,iBAAK6E,MAAL,CAAYS,OAAZ,CAAoBtF,SAApB,GAAgC,aAAhC;AACA;;AACD,cAAG,OAAO,KAAK6E,MAAL,CAAYS,OAAZ,CAAoBrF,SAA3B,KAAyC,WAA5C,EAAwD;AACvD,iBAAK4E,MAAL,CAAYS,OAAZ,CAAoBrF,SAApB,GAAgC,kCAAhC;AACA;;AACD,cAAG,OAAO,KAAK4E,MAAL,CAAYS,OAAZ,CAAoB5E,QAA3B,KAAwC,WAA3C,EAAuD;AACtD,iBAAKmE,MAAL,CAAYS,OAAZ,CAAoB5E,QAApB,GAA+B,UAA/B;AACA;;AAED,eAAK4E,OAAL,GAAe,IAAI3E,aAAJ,CAAY,KAAKkE,MAAL,CAAYS,OAAxB,CAAf;AACA;;AAED,YAAG,OAAO,KAAKT,MAAL,CAAYyC,cAAnB,KAAsC,WAAzC,EAAqD;AACpD,eAAKzC,MAAL,CAAYyC,cAAZ,GAA6B,IAA7B;AACA,SAnEG,CAqEJ;;;AACAxB,QAAAA,MAAM,CAACyB,KAAP,CAAa,UAASC,CAAT,EAAW;AACvB,cAAKR,MAAM,CAACS,OAAP,CAAgBD,CAAC,CAACE,OAAlB,EAA2B7B,IAAI,CAACF,SAAhC,IAA8C,CAAC,CAApD,EAAwD;AACvD;AACA,WAHsB,CAIvB;;;AACA,cAAIE,IAAI,CAACJ,eAAL,IAA0BI,IAAI,CAAChB,MAAL,CAAYyC,cAAZ,IAA8BE,CAAC,CAACE,OAAF,KAAc,EAA1E,EAAgF;AAC/E7B,YAAAA,IAAI,CAACJ,eAAL,CAAqBkC,KAArB;AACA;;AACD,cAAG,CAACX,MAAM,CAACY,IAAP,CAAY/B,IAAI,CAACf,QAAL,CAAc+C,GAAd,EAAZ,EAAiCzI,MAArC,EAA6C;AAC5CyG,YAAAA,IAAI,CAACiC,eAAL;AACA,WAFD,CAGA;AAHA,eAIK,IAAG,CAACjC,IAAI,CAACX,eAAT,EAAyB;AAC7BW,cAAAA,IAAI,CAACsB,gBAAL;AACAtB,cAAAA,IAAI,CAACb,UAAL,CAAgB+C,QAAhB,CAAyB,sCAAzB;AACAlC,cAAAA,IAAI,CAACmC,YAAL;AACAnC,cAAAA,IAAI,CAACX,eAAL,GAAuB,IAAvB;AACA,aAjBsB,CAkBvB;AACA;;;AACA,cAAGW,IAAI,CAACL,WAAL,IAAoB,CAACK,IAAI,CAACN,eAA1B,IAA6CM,IAAI,CAACR,WAAL,KAAqB2B,MAAM,CAACY,IAAP,CAAY/B,IAAI,CAACf,QAAL,CAAc+C,GAAd,EAAZ,CAArE,EAAsG;AACrGhC,YAAAA,IAAI,CAACb,UAAL,CAAgBiD,KAAhB;AACApC,YAAAA,IAAI,CAACmC,YAAL;AACA,WAvBsB,CAyBvB;;;AACA,cAAGR,CAAC,CAACU,aAAF,CAAgBC,KAAhB,CAAsB/I,MAAtB,IAAgCyG,IAAI,CAAChB,MAAL,CAAYuD,KAAZ,CAAkBC,SAArD,EAA+D;AAC9DxC,YAAAA,IAAI,CAACb,UAAL,CAAgBsD,WAAhB,CAA4B,mCAA5B;AACA,WAFD,MAEO;AACNzC,YAAAA,IAAI,CAACb,UAAL,CAAgB+C,QAAhB,CAAyB,mCAAzB;AACA;AACD,SA/BD,EA+BGR,KA/BH,CA+BSP,MAAM,CAACuB,KAAP,CAAa,KAAKC,YAAlB,EAAgC,IAAhC,CA/BT,EAtEI,CAuGJ;;AACA,YAAG,KAAK3D,MAAL,CAAYa,uBAAZ,IAAqC,OAAO,KAAKb,MAAL,CAAYa,uBAAnB,KAA+C,WAAvF,EAAmG;AAClGsB,UAAAA,MAAM,CAAC,MAAD,CAAN,CAAeyB,KAAf,CAAqB,UAASjB,CAAT,EAAW;AAC/B;AACA,gBAAI,CAACR,MAAM,CAACQ,CAAC,CAAC1G,MAAH,CAAN,CAAiBiF,OAAjB,CAAyB,+BAAzB,EAA0D3G,MAA/D,EAAuE;AACtEyG,cAAAA,IAAI,CAACiC,eAAL;AACA;AACD,WALD;AAMA;;AACDhC,QAAAA,MAAM,CAAC2C,KAAP,CAAa,UAASjB,CAAT,EAAW;AACvBA,UAAAA,CAAC,CAACkB,eAAF;AACA,SAFD;AAGA;AACD,KArJ6B;AAuJ9BC,IAAAA,mBAAmB,EAAE,+BAAU;AAC9B,UAAI9C,IAAI,GAAO,IAAf;AAAA,UACCC,MAAM,GAAK,KAAKhB,QADjB;AAAA,UAEC8D,QAAQ,GAAG,KAAK5D,UAFjB;AAAA,UAGC6D,aAAa,GAAG,sCAHjB;AAAA,UAICC,UAAU,GAAG,8BAJd;AAAA,UAKCnD,SAAS,GAAG,KAAKA,SALlB;AAOAqB,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiB8H,GAAjB,CAAqB,qBAArB,EAA4CC,EAA5C,CAA+C,qBAA/C,EAAsE,UAASxB,CAAT,EAAW;AAEhF;AACA,YAAK,CAAEoB,QAAQ,CAACK,QAAT,CAAkB,sCAAlB,CAAP,EAAmE;AAClEjC,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiB8H,GAAjB,CAAqB,qBAArB;AACA;AACA,SAN+E,CAQhF;;;AACA,YAAK/B,MAAM,CAACS,OAAP,CAAgBD,CAAC,CAACE,OAAlB,EAA2B/B,SAA3B,MAA2C,CAAC,CAAjD,EAAqD;AACpD;AACA;;AAED6B,QAAAA,CAAC,CAAC0B,cAAF,GAbgF,CAehF;;AACA,YAAK1B,CAAC,CAACE,OAAF,KAAc,EAAd,IAAoB,CAAE5B,MAAM,CAACqD,EAAP,CAAU,QAAV,CAA3B,EAAiD;AAEhDtD,UAAAA,IAAI,CAACiC,eAAL,GAFgD,CAIhD;;AACAd,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiB8H,GAAjB,CAAqB,qBAArB,EALgD,CAOhD;;AACAjD,UAAAA,MAAM,CAACsD,KAAP;AAEApC,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAAyB,8BAAzB;AAEA;AACA,SA7B+E,CA+BhF;;;AACA,YAAK7B,CAAC,CAACE,OAAF,KAAc,EAAnB,EAAwB;AACvB,cAAI4B,QAAQ,GAAGtC,MAAM,CAAE4B,QAAQ,CAAC,CAAD,CAAV,CAAN,CAAsBW,IAAtB,CAA4B,MAAMV,aAAlC,CAAf;;AACA,cAAKS,QAAQ,CAAClK,MAAT,KAAoB,CAApB,IAAyBkK,QAAQ,CAACE,IAAT,GAAgBpK,MAAhB,KAA2B,CAAzD,EAA6D;AAC5DkK,YAAAA,QAAQ,CAAChB,WAAT,CAAsBO,aAAtB,EAAsCnC,IAAtC,CAA2C,eAA3C,EAA4D,OAA5D,EACG8C,IADH,GACUzB,QADV,CACoBc,aADpB,EACoCnC,IADpC,CACyC,eADzC,EAC0D,MAD1D,EAEG6C,IAFH,CAES,GAFT,EAEeH,KAFf;AAGA,WAJD,MAIO;AACNE,YAAAA,QAAQ,CAAChB,WAAT,CAAsBO,aAAtB,EAAsCnC,IAAtC,CAA2C,eAA3C,EAA4D,OAA5D;AACAkC,YAAAA,QAAQ,CAACW,IAAT,CAAeT,UAAU,GAAG,QAA5B,EAAuCf,QAAvC,CAAiDc,aAAjD,EAAiEnC,IAAjE,CAAsE,eAAtE,EAAuF,MAAvF,EACG6C,IADH,CACS,GADT,EACeH,KADf;AAEA;;AACDpC,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,qCAA1B;AACA,SA5C+E,CA8ChF;;;AACA,YAAK7B,CAAC,CAACE,OAAF,KAAc,EAAnB,EAAwB;AACvB,cAAI+B,YAAY,GAAGzC,MAAM,CAAE4B,QAAQ,CAAC,CAAD,CAAV,CAAN,CAAsBW,IAAtB,CAA4B,MAAMV,aAAlC,CAAnB;;AACA,cAAKY,YAAY,CAACrK,MAAb,KAAwB,CAAxB,IAA6BqK,YAAY,CAACC,IAAb,GAAoBtK,MAApB,KAA+B,CAAjE,EAAqE;AACpEqK,YAAAA,YAAY,CAACnB,WAAb,CAA0BO,aAA1B,EAA0CnC,IAA1C,CAA+C,eAA/C,EAAgE,OAAhE,EACGgD,IADH,GACU3B,QADV,CACoBc,aADpB,EACoCnC,IADpC,CACyC,eADzC,EAC0D,MAD1D,EAEG6C,IAFH,CAES,GAFT,EAEeH,KAFf;AAGA,WAJD,MAIO;AACNK,YAAAA,YAAY,CAACnB,WAAb,CAA0BO,aAA1B,EAA0CnC,IAA1C,CAA+C,eAA/C,EAAgE,OAAhE;AACAkC,YAAAA,QAAQ,CAACW,IAAT,CAAeT,UAAU,GAAG,OAA5B,EAAsCf,QAAtC,CAAgDc,aAAhD,EAAgEnC,IAAhE,CAAqE,eAArE,EAAsF,MAAtF,EACG6C,IADH,CACS,GADT,EACeH,KADf;AAEA;;AACDpC,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,mCAA1B;AACA,SA3D+E,CA6DhF;;;AACA,YAAK7B,CAAC,CAACE,OAAF,KAAc,EAAnB,EAAwB;AACvBV,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,iCAA1B;AACA,SAhE+E,CAkEhF;;;AACA,YAAK7B,CAAC,CAACE,OAAF,KAAc,CAAnB,EAAuB;AACtBV,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,+BAA1B;AACA;AAED,OAvED;AAyEArC,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,kCAA1B;AACA,KAzO6B;AA2O9BM,IAAAA,aAAa,EAAE,uBAAUC,WAAV,EAAwB;AACtC,UAAIC,UAAU,GAAG,KAAK7E,UAAtB;;AAEA,UAAK4E,WAAL,EAAmB;AAClBC,QAAAA,UAAU,CAACnD,IAAX,CAAgB,eAAhB,EAAiC,MAAjC;AACA,OAFD,MAEO;AACNmD,QAAAA,UAAU,CAACnD,IAAX,CAAgB,eAAhB,EAAiC,OAAjC;AACA;;AAEDM,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,6BAA1B;AACA,KArP6B;AAuP9BlC,IAAAA,gBAAgB,EAAE,4BAAU;AAC3B,UAAIrB,MAAM,GAAG,KAAKhB,QAAlB;AAAA,UACCgF,YAAY,GAAGhE,MAAM,CAACiE,MAAP,EADhB;AAAA,UAECnB,QAAQ,GAAG,KAAK5D,UAFjB;AAAA,UAGCgF,kBAAkB,GAAG,CAHtB,CAD2B,CAM3B;;AACA,UAAIlE,MAAM,CAACqD,EAAP,CAAU,SAAV,CAAJ,EAA0B;AACzB;AACA,OAT0B,CAW3B;;;AACAW,MAAAA,YAAY,CAACtJ,IAAb,IAAqByJ,QAAQ,CAAC,KAAKpF,MAAL,CAAYqF,OAAZ,CAAoBH,MAApB,CAA2BrG,CAA5B,EAA8B,EAA9B,CAA7B;AACAoG,MAAAA,YAAY,CAACvJ,GAAb,IAAoB0J,QAAQ,CAAC,KAAKpF,MAAL,CAAYqF,OAAZ,CAAoBH,MAApB,CAA2BpG,CAA5B,EAA8B,EAA9B,CAA5B,CAb2B,CAe3B;;AACA,cAAO,KAAKkB,MAAL,CAAYqF,OAAZ,CAAoBxJ,QAA3B;AACC,aAAK,KAAL;AACCsJ,UAAAA,kBAAkB,GAAG,IAAIpB,QAAQ,CAAChG,MAAT,EAAzB;AACA;;AACD;AACCoH,UAAAA,kBAAkB,GAAGlE,MAAM,CAACqE,WAAP,EAArB;AALF,OAhB2B,CAwB3B;;;AACAvB,MAAAA,QAAQ,CAACxH,GAAT,CAAa,MAAb,EAAoB0I,YAAY,CAACtJ,IAAjC;AACAoI,MAAAA,QAAQ,CAACxH,GAAT,CAAa,KAAb,EAAsB0I,YAAY,CAACvJ,GAAb,GAAmByJ,kBAArB,GAA4C,IAAhE;;AACA,UAAG,WAAS,KAAKnF,MAAL,CAAYqF,OAAZ,CAAoBvK,KAAhC,EAAsC;AACrCiJ,QAAAA,QAAQ,CAACjJ,KAAT,CAAemG,MAAM,CAACsE,UAAP,KAAoBH,QAAQ,CAACrB,QAAQ,CAACxH,GAAT,CAAa,cAAb,EAA6BiJ,OAA7B,CAAqC,IAArC,EAA0C,EAA1C,CAAD,EAA+C,EAA/C,CAA5B,GAA+EJ,QAAQ,CAACrB,QAAQ,CAACxH,GAAT,CAAa,aAAb,EAA4BiJ,OAA5B,CAAoC,IAApC,EAAyC,EAAzC,CAAD,EAA8C,EAA9C,CAAtG;AACA;;AAEDrD,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,gCAA1B,EAA4D,CAAET,QAAQ,CAACxH,GAAT,CAAa,MAAb,CAAF,EAAwBwH,QAAQ,CAACxH,GAAT,CAAa,KAAb,CAAxB,EAA6CwH,QAAQ,CAACjJ,KAAT,EAA7C,CAA5D;AACA,KAvR6B;AAyR9BmI,IAAAA,eAAe,EAAE,yBAASN,CAAT,EAAW;AAC3B,WAAK8C,YAAL;AACA,WAAKX,aAAL,CAAmB,KAAnB;AACA,WAAK3E,UAAL,CAAgBiD,KAAhB,GAAwBK,WAAxB,CAAoC,sCAApC;AACA,WAAKpD,eAAL,GAAuB,KAAvB;AACA,WAAKM,WAAL,GAAmB,KAAnB;AAEAwB,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,+BAA1B;AACA,KAjS6B;AAmS9B;AACAb,IAAAA,YAAY,EAAE,sBAAShB,CAAT,EAAW;AACxB;AACA,UAAKR,MAAM,CAACS,OAAP,CAAgBD,CAAC,CAACE,OAAlB,EAA2B,KAAK/B,SAAhC,IAA8C,CAAC,CAApD,EAAwD;AACvD;AACA;;AACD/D,MAAAA,YAAY,CAAC,KAAKwD,KAAN,CAAZ;;AACA,UAAGoC,CAAC,CAACU,aAAF,CAAgBC,KAAhB,CAAsB/I,MAAtB,IAAgC,KAAKyF,MAAL,CAAYuD,KAAZ,CAAkBC,SAArD,EAA+D;AAC9D,YAAI,KAAK5C,eAAT,EAA0B;AACzB,eAAKA,eAAL,CAAqBkC,KAArB;AACA;;AACD,aAAKvC,KAAL,GAAamF,UAAU,CACtBvD,MAAM,CAACuB,KAAP,CAAa,KAAKiC,MAAlB,EAA0B,IAA1B,EAAgChD,CAAhC,CADsB,EAEtB,KAAK3C,MAAL,CAAYuD,KAAZ,CAAkBrF,KAFI,CAAvB;AAIA;AACD,KAnT6B;AAqT9BiF,IAAAA,YAAY,EAAE,wBAAU;AACvB,UAAG,KAAKnD,MAAL,CAAYS,OAAZ,IAAqB,CAAC,KAAKC,eAA9B,EAA8C;AAC7C,aAAKD,OAAL,CAAazE,IAAb,CAAkBI,QAAQ,CAACwJ,cAAT,CAAwB,KAAK1F,UAA7B,CAAlB;AACA,aAAKQ,eAAL,GAAuB,IAAvB;AACAyB,QAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,4BAA1B;AACA;AACD,KA3T6B;AA6T9BiB,IAAAA,YAAY,EAAE,wBAAU;AACvB,UAAG,KAAKzF,MAAL,CAAYS,OAAf,EAAuB;AACtB,aAAKA,OAAL,CAAavE,IAAb;AACA,aAAKwE,eAAL,GAAuB,KAAvB;AACAyB,QAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,4BAA1B;AACA;AACD,KAnU6B;AAqU9B;AACAmB,IAAAA,MAAM,EAAE,gBAAShD,CAAT,EAAW;AAClB,UAAI3B,IAAI,GAAG,IAAX;AAAA,UACC6E,KAAK,GAAG,KAAKvF,OADd;AAAA,UAECwF,MAAM,GAAGD,KAAK,CAACE,SAAN,EAFV;AAAA,UAGCC,MAAM,GAAGH,KAAK,CAAChE,IAAN,CAAW,QAAX,IAAuBgE,KAAK,CAAChE,IAAN,CAAW,QAAX,CAAvB,GAA8C,EAHxD;AAAA,UAICZ,MAAM,GAAG,KAAKhB,QAJf;AAAA,UAKC8D,QAAQ,GAAG,KAAK5D,UALjB;AAOAgC,MAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,4BAA1B,EAAwD,CAAEvD,MAAF,EAAU8C,QAAV,EAAoB8B,KAApB,EAA2BG,MAA3B,EAAmCF,MAAnC,CAAxD;AAEA,WAAKhB,aAAL,CAAmB,KAAnB,EAVkB,CAYlB;;AACAgB,MAAAA,MAAM,IAAI,4CAA4C7E,MAAM,CAACK,IAAP,CAAY,WAAZ,CAA5C,GAAuE,YAAvE,GAAsF2E,kBAAkB,CAAChF,MAAM,CAAC+B,GAAP,EAAD,CAAxG,GAAyH,aAAzH,GAAyIoC,QAAQ,CAAC5D,2BAA2B,CAAC0E,SAA7B,EAAuC,EAAvC,CAA3J;;AAEA,UAAGF,MAAM,CAACG,OAAP,CAAe,GAAf,MAAwB,CAAC,CAA5B,EAA8B;AAC7BH,QAAAA,MAAM,GAAGA,MAAM,CAACtH,KAAP,CAAa,GAAb,CAAT;AACAoH,QAAAA,MAAM,IAAI,MAAME,MAAM,CAAC,CAAD,CAAtB;AACA;;AAED,WAAKxF,WAAL,GAAmBS,MAAM,CAAC+B,GAAP,EAAnB;AACA,WAAKrC,WAAL,GAAmB,IAAnB,CArBkB,CAsBlB;;AACA,WAAKC,eAAL,GAAuBuB,MAAM,CAACiE,IAAP,CAAY;AAClCC,QAAAA,GAAG,EAAE7E,2BAA2B,CAAC8E,OADC;AAElCC,QAAAA,IAAI,EAAE,MAF4B;AAGlCjF,QAAAA,IAAI,EAAEwE,MAH4B;AAIlCU,QAAAA,QAAQ,EAAE,oBAAU;AACnBrE,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,+BAA1B,EAA2D,CAAEvD,MAAF,EAAU8C,QAAV,EAAoB8B,KAApB,EAA2BG,MAA3B,EAAmCF,MAAnC,CAA3D;AACA9E,UAAAA,IAAI,CAACN,eAAL,GAAuB,KAAvB;AACAM,UAAAA,IAAI,CAACyE,YAAL;AACA,eAAK7E,eAAL,GAAuB,KAAvB;AACAuB,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,+BAA1B,EAA2D,CAAEvD,MAAF,EAAU8C,QAAV,EAAoB8B,KAApB,EAA2BG,MAA3B,EAAmCF,MAAnC,CAA3D;AACA,SAViC;AAWlCW,QAAAA,OAAO,EAAE,iBAASC,QAAT,EAAkB;AAC1B,cAAGA,QAAQ,KAAK,CAAhB,EAAkB;AACjBA,YAAAA,QAAQ,GAAG,EAAX;AACA;;AACDvE,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,8BAA1B,EAA0D,CAAEvD,MAAF,EAAU8C,QAAV,EAAoB8B,KAApB,EAA2BG,MAA3B,EAAmCF,MAAnC,CAA1D;AACA9E,UAAAA,IAAI,CAACsB,gBAAL;AACAyB,UAAAA,QAAQ,CAAC3B,IAAT,CAAcsE,QAAd;AACA1F,UAAAA,IAAI,CAAC8D,aAAL,CAAmB,IAAnB;AACA9D,UAAAA,IAAI,CAAC8C,mBAAL;AACA3B,UAAAA,MAAM,CAAC/F,QAAD,CAAN,CAAiBoI,OAAjB,CAA0B,+BAA1B,EAA2D,CAAEvD,MAAF,EAAU8C,QAAV,EAAoB8B,KAApB,EAA2BG,MAA3B,EAAmCF,MAAnC,CAA3D;AACA;AArBiC,OAAZ,CAAvB;AAuBA,KApX6B;AAsX9B3E,IAAAA,MAAM,EAAE,gBAASjC,MAAT,EAAiByH,YAAjB,EAA+B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAI,OAAOzH,MAAP,KAAkB,WAAtB,EAAmC;AAClCA,QAAAA,MAAM,GAAG,EAAT;AACA;;AAED,UAAI0H,KAAJ;;AACA,UAAIC,UAAU,GAAG,SAAbA,UAAa,CAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAC1CD,QAAAA,IAAI,GAAG1B,QAAQ,CAAC0B,IAAD,EAAO,EAAP,CAAR,CAAmBE,QAAnB,CAA4B,EAA5B,CAAP,CAD0C,CACF;;AACxC,YAAID,QAAQ,GAAGD,IAAI,CAACvM,MAApB,EAA4B;AAAE;AAC7B,iBAAOuM,IAAI,CAACG,KAAL,CAAWH,IAAI,CAACvM,MAAL,GAAcwM,QAAzB,CAAP;AACA;;AACD,YAAIA,QAAQ,GAAGD,IAAI,CAACvM,MAApB,EAA4B;AAAE;AAC7B,iBAAO,IAAI2M,KAAJ,CAAU,KAAKH,QAAQ,GAAGD,IAAI,CAACvM,MAArB,CAAV,EAAwCiF,IAAxC,CAA6C,GAA7C,IAAoDsH,IAA3D;AACA;;AACD,eAAOA,IAAP;AACA,OATD,CAfsC,CA0BtC;;;AACA,UAAI,CAAC,KAAKK,MAAV,EAAkB;AACjB,aAAKA,MAAL,GAAc,EAAd;AACA,OA7BqC,CA8BtC;;;AACA,UAAI,CAAC,KAAKA,MAAL,CAAYC,UAAjB,EAA6B;AAAE;AAC9B,aAAKD,MAAL,CAAYC,UAAZ,GAAyB3J,IAAI,CAAC4J,KAAL,CAAW5J,IAAI,CAAC6J,MAAL,KAAgB,SAA3B,CAAzB;AACA;;AACD,WAAKH,MAAL,CAAYC,UAAZ;AAEAR,MAAAA,KAAK,GAAG1H,MAAR,CApCsC,CAoCtB;;AAChB0H,MAAAA,KAAK,IAAIC,UAAU,CAACzB,QAAQ,CAAC,IAAImC,IAAJ,GAAWC,OAAX,KAAuB,IAAxB,EAA8B,EAA9B,CAAT,EAA4C,CAA5C,CAAnB;AACAZ,MAAAA,KAAK,IAAIC,UAAU,CAAC,KAAKM,MAAL,CAAYC,UAAb,EAAyB,CAAzB,CAAnB,CAtCsC,CAsCU;;AAChD,UAAIT,YAAJ,EAAkB;AACjB;AACAC,QAAAA,KAAK,IAAI,CAACnJ,IAAI,CAAC6J,MAAL,KAAgB,EAAjB,EAAqBG,OAArB,CAA6B,CAA7B,EAAgCT,QAAhC,EAAT;AACA;;AAED,aAAOJ,KAAP;AACA;AAna6B,GAA/B;;AAsaAzE,EAAAA,MAAM,CAACuF,EAAP,CAAU7H,WAAV,IAAyB,UAAS8H,OAAT,EAAiB;AACzC,SAAKC,IAAL,CAAU,YAAU;AACnB,UAAG,CAACzF,MAAM,CAACb,IAAP,CAAY,IAAZ,EAAkB,YAAYzB,WAA9B,CAAJ,EAA+C;AAC9CsC,QAAAA,MAAM,CAACb,IAAP,CAAY,IAAZ,EAAkB,YAAYzB,WAA9B,EAA2C,IAAIC,kBAAJ,CAAuBqC,MAAM,CAAC,IAAD,CAA7B,EAAqCwF,OAArC,CAA3C;AACA;AACD,KAJD,EADyC,CAOzC;;AACA,WAAO,IAAP;AACA,GATD;AAUA,CA1cD,EA0cGpF,MAAM,CAACJ,MA1cV,GA4cA;;;AACAA,MAAM,CAAC/F,QAAD,CAAN,CAAiByL,KAAjB,CAAuB,UAASC,CAAT,EAAW;AACjC3F,EAAAA,MAAM,CAAC,4BAAD,CAAN,CAAqC4F,oBAArC;AACA,CAFD","file":"bundle.js","sourceRoot":"../src","sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign({}, defaults, opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import {Spinner} from 'spin.js';\n\n(function(){\n\tvar plugin_name = \"searchwp_live_search\";\n\n\tfunction SearchwpLiveSearch( element ) {\n\t\tthis.config = null;\n\n\t\t// Internal properties.\n\t\tthis.input_el = element;                // the input element itself\n\t\tthis.results_id = null;                 // the id attribute of the results wrapper for this search field\n\t\tthis.results_el = null;                 // the results wrapper element itself\n\t\tthis.parent_el = null;                  // allows results wrapper element to be injected into a custom parent element\n\t\tthis.results_showing = false;           // whether the results are showing\n\t\tthis.form_el = null;                    // the search form element itself\n\t\tthis.timer = false;                     // powers the delay check\n\t\tthis.last_string = '';                  // the last search string submitted\n\t\tthis.spinner = null;                    // the spinner\n\t\tthis.spinner_showing = false;           // whether the spinner is showing\n\t\tthis.has_results = false;               // whether results are showing\n\t\tthis.current_request = false;           // the current request in progress\n\t\tthis.results_destroy_on_blur = true;    // destroy the results\n\t\tthis.a11y_keys = [ 27, 40, 13, 38, 9 ]; // list of keyCode used for a11y\n\n\t\t// Kick it off!\n\t\tthis.init();\n\t}\n\n\tSearchwpLiveSearch.prototype = {\n\n\t\t// prep the field and form\n\t\tinit: function(){\n\t\t\tvar self = this,\n\t\t\t\t$input = this.input_el;\n\t\t\tthis.form_el = $input.parents('form:eq(0)');\n\t\t\tthis.results_id = this.uniqid('searchwp_live_search_results_');\n\n\t\t\t// establish our config (e.g. allow developers to override the config based on the value of the swpconfig data attribute)\n\t\t\tvar valid_config = false;\n\t\t\tvar config_template = $input.data('swpconfig');\n\t\t\tif(config_template && typeof config_template !== 'undefined') {\n\t\t\t\t// loop through all available configs\n\t\t\t\tfor (var config_key in searchwp_live_search_params.config) {\n\t\t\t\t\tif( config_template === config_key ) {\n\t\t\t\t\t\tvalid_config = true;\n\t\t\t\t\t\tthis.config = searchwp_live_search_params.config[config_key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// use the default\n\t\t\t\tfor (var default_key in searchwp_live_search_params.config) {\n\t\t\t\t\tif( 'default' === default_key ) {\n\t\t\t\t\t\tvalid_config = true;\n\t\t\t\t\t\tthis.config = searchwp_live_search_params.config[default_key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// if there wasn't a valid config found, alert() it because everything will break\n\t\t\tif(!valid_config){\n\t\t\t\talert(searchwp_live_search_params.msg_no_config_found);\n\t\t\t}else{\n\t\t\t\t// allow the swpengine data attribute to override the engine set in the config (prevents new configs just to change engine)\n\t\t\t\tvar engine = $input.data('swpengine');\n\t\t\t\tif( engine ) {\n\t\t\t\t\tthis.config.engine = engine;\n\t\t\t\t}\n\n\t\t\t\t$input.data('swpengine',this.config.engine);\n\n\t\t\t\t// prevent autocomplete\n\t\t\t\t$input.attr('autocomplete','off');\n\n\t\t\t\t// #a11y: ARIA attributes\n\t\t\t\tvar instruction_id = this.results_id  + '_instructions';\n\t\t\t\t$input.attr( 'aria-describedby', instruction_id );\n\t\t\t\t$input.attr( 'aria-owns', this.results_id );\n\t\t\t\t$input.attr( 'aria-autocomplete', 'both' );\n\n\t\t\t\t$input.after( '<p class=\"searchwp-live-search-instructions screen-reader-text\" id=\"' + instruction_id + '\">' + searchwp_live_search_params.aria_instructions + '</p>' );\n\n\t\t\t\t// set up and position the results container\n\t\t\t\tvar results_el_html = '<div aria-expanded=\"false\" class=\"searchwp-live-search-results\" id=\"' + this.results_id + '\" role=\"listbox\" tabindex=\"0\"></div>';\n\n\t\t\t\t// if parent_el was specified, inject the results el into it instead of appending it to the body\n\t\t\t\tvar swpparentel = $input.data('swpparentel');\n\t\t\t\tif (swpparentel) {\n\t\t\t\t\t// specified as a data property on the html input.\n\t\t\t\t\tthis.parent_el = jQuery(swpparentel);\n\t\t\t\t\tthis.parent_el.html(results_el_html);\n\t\t\t\t} else if (this.config.parent_el) {\n\t\t\t\t\t// specified by the config set in php\n\t\t\t\t\tthis.parent_el = jQuery(this.config.parent_el);\n\t\t\t\t\tthis.parent_el.html(results_el_html);\n\t\t\t\t} else {\n\t\t\t\t\t// no parent, just append to the body\n\t\t\t\t\tjQuery('body').append(jQuery(results_el_html));\n\t\t\t\t}\n\n\t\t\t\tthis.results_el = jQuery('#'+this.results_id);\n\t\t\t\tthis.position_results();\n\t\t\t\tjQuery(window).resize(function(){\n\t\t\t\t\tself.position_results();\n\t\t\t\t});\n\n\t\t\t\t// prep the spinner\n\t\t\t\tif(this.config.spinner){\n\t\t\t\t\t// Version 1.4 added some new configuration options that may not be included\n\t\t\t\t\t// if the configuration was configured for an earlier version, so we need\n\t\t\t\t\t// to check for these new values and re-set them if necessary\n\t\t\t\t\tif(typeof this.config.spinner.scale === 'undefined'){\n\t\t\t\t\t\tthis.config.spinner.scale = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof this.config.spinner.fadeColor === 'undefined'){\n\t\t\t\t\t\tthis.config.spinner.fadeColor = 'transparent';\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof this.config.spinner.animation === 'undefined'){\n\t\t\t\t\t\tthis.config.spinner.animation = 'searchwp-spinner-line-fade-quick';\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof this.config.spinner.position === 'undefined'){\n\t\t\t\t\t\tthis.config.spinner.position = 'absolute';\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.spinner = new Spinner(this.config.spinner);\n\t\t\t\t}\n\n\t\t\t\tif(typeof this.config.abort_on_enter === 'undefined'){\n\t\t\t\t\tthis.config.abort_on_enter = true;\n\t\t\t\t}\n\n\t\t\t\t// bind to keyup\n\t\t\t\t$input.keyup(function(e){\n\t\t\t\t\tif ( jQuery.inArray( e.keyCode, self.a11y_keys ) > -1 ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// is there already a request active?\n\t\t\t\t\tif( self.current_request && ( self.config.abort_on_enter && e.keyCode === 13 ) ){\n\t\t\t\t\t\tself.current_request.abort();\n\t\t\t\t\t}\n\t\t\t\t\tif(!jQuery.trim(self.input_el.val()).length) {\n\t\t\t\t\t\tself.destroy_results();\n\t\t\t\t\t}\n\t\t\t\t\t// if the user typed, show the results wrapper and spinner\n\t\t\t\t\telse if(!self.results_showing){\n\t\t\t\t\t\tself.position_results();\n\t\t\t\t\t\tself.results_el.addClass('searchwp-live-search-results-showing');\n\t\t\t\t\t\tself.show_spinner();\n\t\t\t\t\t\tself.results_showing = true;\n\t\t\t\t\t}\n\t\t\t\t\t// if there are already results on display and the user is changing the search string\n\t\t\t\t\t// remove the existing results and show the spinner\n\t\t\t\t\tif(self.has_results && !self.spinner_showing && self.last_string !== jQuery.trim(self.input_el.val())){\n\t\t\t\t\t\tself.results_el.empty();\n\t\t\t\t\t\tself.show_spinner();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Capture whether minimum characters have been entered\n\t\t\t\t\tif(e.currentTarget.value.length >= self.config.input.min_chars){\n\t\t\t\t\t\tself.results_el.removeClass('searchwp-live-search-no-min-chars');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.results_el.addClass('searchwp-live-search-no-min-chars');\n\t\t\t\t\t}\n\t\t\t\t}).keyup(jQuery.proxy(this.maybe_search, this));\n\n\t\t\t\t// destroy the results when input focus is lost\n\t\t\t\tif(this.config.results_destroy_on_blur||typeof this.config.results_destroy_on_blur === 'undefined'){\n\t\t\t\t\tjQuery('html').click(function(e){\n\t\t\t\t\t\t// Only destroy the results if the click was placed outside the results element.\n\t\t\t\t\t\tif (!jQuery(e.target).parents('.searchwp-live-search-results').length) {\n\t\t\t\t\t\t\tself.destroy_results();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$input.click(function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tkeyboard_navigation: function(){\n\t\t\tvar self     = this,\n\t\t\t\t$input   = this.input_el,\n\t\t\t\t$results = this.results_el,\n\t\t\t\tfocused_class = 'searchwp-live-search-result--focused',\n\t\t\t\titem_class = '.searchwp-live-search-result',\n\t\t\t\ta11y_keys = this.a11y_keys;\n\n\t\t\tjQuery(document).off('keyup.searchwp_a11y').on('keyup.searchwp_a11y', function(e){\n\n\t\t\t\t// If results are not displayed, don't bind keypress.\n\t\t\t\tif ( ! $results.hasClass('searchwp-live-search-results-showing') ) {\n\t\t\t\t\tjQuery(document).off('keyup.searchwp_a11y');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// If key pressed doesn't match our a11y keys list do nothing.\n\t\t\t\tif ( jQuery.inArray( e.keyCode, a11y_keys ) === -1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t// On `esc` keypress (only when input search is not focused).\n\t\t\t\tif ( e.keyCode === 27 && ! $input.is(':focus') ) {\n\n\t\t\t\t\tself.destroy_results();\n\n\t\t\t\t\t// Unbind keypress\n\t\t\t\t\tjQuery(document).off('keyup.searchwp_a11y');\n\n\t\t\t\t\t// Get back the focus on input search.\n\t\t\t\t\t$input.focus();\n\n\t\t\t\t\tjQuery(document).trigger(\"searchwp_live_escape_results\");\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// On `down` arrow keypress\n\t\t\t\tif ( e.keyCode === 40 ) {\n\t\t\t\t\tvar $current = jQuery( $results[0] ).find( '.' + focused_class );\n\t\t\t\t\tif ( $current.length === 1 && $current.next().length === 1 ) {\n\t\t\t\t\t\t$current.removeClass( focused_class ).attr('aria-selected', 'false')\n\t\t\t\t\t\t\t\t.next().addClass( focused_class ).attr('aria-selected', 'true')\n\t\t\t\t\t\t\t\t.find( 'a' ).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$current.removeClass( focused_class ).attr('aria-selected', 'false');\n\t\t\t\t\t\t$results.find( item_class + ':first' ).addClass( focused_class ).attr('aria-selected', 'true')\n\t\t\t\t\t\t\t\t.find( 'a' ).focus();\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_key_arrowdown_pressed\" );\n\t\t\t\t}\n\n\t\t\t\t// On `up` arrow keypress\n\t\t\t\tif ( e.keyCode === 38 ) {\n\t\t\t\t\tvar $currentItem = jQuery( $results[0] ).find( '.' + focused_class );\n\t\t\t\t\tif ( $currentItem.length === 1 && $currentItem.prev().length === 1 ) {\n\t\t\t\t\t\t$currentItem.removeClass( focused_class ).attr('aria-selected', 'false')\n\t\t\t\t\t\t\t\t.prev().addClass( focused_class ).attr('aria-selected', 'true')\n\t\t\t\t\t\t\t\t.find( 'a' ).focus();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$currentItem.removeClass( focused_class ).attr('aria-selected', 'false');\n\t\t\t\t\t\t$results.find( item_class + ':last' ).addClass( focused_class ).attr('aria-selected', 'true')\n\t\t\t\t\t\t\t\t.find( 'a' ).focus();\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_key_arrowup_pressed\" );\n\t\t\t\t}\n\n\t\t\t\t// On 'enter' keypress\n\t\t\t\tif ( e.keyCode === 13 ) {\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_key_enter_pressed\" );\n\t\t\t\t}\n\n\t\t\t\t// On 'tab' keypress\n\t\t\t\tif ( e.keyCode === 9 ) {\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_key_tab_pressed\" );\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\tjQuery(document).trigger( \"searchwp_live_keyboad_navigation\" );\n\t\t},\n\n\t\taria_expanded: function( is_expanded ) {\n\t\t\tvar $resultsEl = this.results_el;\n\n\t\t\tif ( is_expanded ) {\n\t\t\t\t$resultsEl.attr('aria-expanded', 'true');\n\t\t\t} else {\n\t\t\t\t$resultsEl.attr('aria-expanded', 'false');\n\t\t\t}\n\n\t\t\tjQuery(document).trigger( \"searchwp_live_aria_expanded\" );\n\t\t},\n\n\t\tposition_results: function(){\n\t\t\tvar $input = this.input_el,\n\t\t\t\tinput_offset = $input.offset(),\n\t\t\t\t$results = this.results_el,\n\t\t\t\tresults_top_offset = 0;\n\n\t\t\t// don't try to position a results element when the input field is hidden\n\t\t\tif ($input.is(\":hidden\")) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// check for an offset\n\t\t\tinput_offset.left += parseInt(this.config.results.offset.x,10);\n\t\t\tinput_offset.top += parseInt(this.config.results.offset.y,10);\n\n\t\t\t// position the results container\n\t\t\tswitch(this.config.results.position){\n\t\t\t\tcase 'top':\n\t\t\t\t\tresults_top_offset = 0 - $results.height();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tresults_top_offset = $input.outerHeight();\n\t\t\t}\n\n\t\t\t// apply the offset and finalize the position\n\t\t\t$results.css('left',input_offset.left);\n\t\t\t$results.css('top', ( input_offset.top + results_top_offset ) + 'px');\n\t\t\tif('auto'===this.config.results.width){\n\t\t\t\t$results.width($input.outerWidth()-parseInt($results.css('paddingRight').replace('px',''),10)-parseInt($results.css('paddingLeft').replace('px',''),10));\n\t\t\t}\n\n\t\t\tjQuery(document).trigger( \"searchwp_live_position_results\", [ $results.css('left'), $results.css('top'), $results.width() ] );\n\t\t},\n\n\t\tdestroy_results: function(e){\n\t\t\tthis.hide_spinner();\n\t\t\tthis.aria_expanded(false);\n\t\t\tthis.results_el.empty().removeClass('searchwp-live-search-results-showing');\n\t\t\tthis.results_showing = false;\n\t\t\tthis.has_results = false;\n\n\t\t\tjQuery(document).trigger( \"searchwp_live_destroy_results\" );\n\t\t},\n\n\t\t// if the search value changed, we've waited long enough, and we have at least the minimum characters: search!\n\t\tmaybe_search: function(e){\n\t\t\t// If key pressed doesn't match our a11y keys list do nothing.\n\t\t\tif ( jQuery.inArray( e.keyCode, this.a11y_keys ) > -1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tclearTimeout(this.timer);\n\t\t\tif(e.currentTarget.value.length >= this.config.input.min_chars){\n\t\t\t\tif (this.current_request) {\n\t\t\t\t\tthis.current_request.abort();\n\t\t\t\t}\n\t\t\t\tthis.timer = setTimeout(\n\t\t\t\t\tjQuery.proxy(this.search, this, e),\n\t\t\t\t\tthis.config.input.delay\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\n\t\tshow_spinner: function(){\n\t\t\tif(this.config.spinner&&!this.spinner_showing){\n\t\t\t\tthis.spinner.spin(document.getElementById(this.results_id));\n\t\t\t\tthis.spinner_showing = true;\n\t\t\t\tjQuery(document).trigger( \"searchwp_live_show_spinner\" );\n\t\t\t}\n\t\t},\n\n\t\thide_spinner: function(){\n\t\t\tif(this.config.spinner){\n\t\t\t\tthis.spinner.stop();\n\t\t\t\tthis.spinner_showing = false;\n\t\t\t\tjQuery(document).trigger( \"searchwp_live_hide_spinner\" );\n\t\t\t}\n\t\t},\n\n\t\t// perform the search\n\t\tsearch: function(e){\n\t\t\tvar self = this,\n\t\t\t\t$form = this.form_el,\n\t\t\t\tvalues = $form.serialize(),\n\t\t\t\taction = $form.attr('action') ? $form.attr('action') : '',\n\t\t\t\t$input = this.input_el,\n\t\t\t\t$results = this.results_el;\n\n\t\t\tjQuery(document).trigger( \"searchwp_live_search_start\", [ $input, $results, $form, action, values ] );\n\n\t\t\tthis.aria_expanded(false);\n\n\t\t\t// append our action, engine, and (redundant) query (so as to save the trouble of finding it again server side)\n\t\t\tvalues += '&action=searchwp_live_search&swpengine=' + $input.data('swpengine') + '&swpquery=' + encodeURIComponent($input.val()) + '&origin_id=' + parseInt(searchwp_live_search_params.origin_id,10);\n\n\t\t\tif(action.indexOf('?') !== -1){\n\t\t\t\taction = action.split('?');\n\t\t\t\tvalues += '&' + action[1];\n\t\t\t}\n\n\t\t\tthis.last_string = $input.val();\n\t\t\tthis.has_results = true;\n\t\t\t// put the request into the current_request var\n\t\t\tthis.current_request = jQuery.ajax({\n\t\t\t\turl: searchwp_live_search_params.ajaxurl,\n\t\t\t\ttype: \"POST\",\n\t\t\t\tdata: values,\n\t\t\t\tcomplete: function(){\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_search_complete\", [ $input, $results, $form, action, values ] );\n\t\t\t\t\tself.spinner_showing = false;\n\t\t\t\t\tself.hide_spinner();\n\t\t\t\t\tthis.current_request = false;\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_search_shutdown\", [ $input, $results, $form, action, values ] );\n\t\t\t\t},\n\t\t\t\tsuccess: function(response){\n\t\t\t\t\tif(response === 0){\n\t\t\t\t\t\tresponse = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_search_success\", [ $input, $results, $form, action, values ] );\n\t\t\t\t\tself.position_results();\n\t\t\t\t\t$results.html(response);\n\t\t\t\t\tself.aria_expanded(true);\n\t\t\t\t\tself.keyboard_navigation();\n\t\t\t\t\tjQuery(document).trigger( \"searchwp_live_search_shutdown\", [ $input, $results, $form, action, values ] );\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tuniqid: function(prefix, more_entropy) {\n\t\t\t// +   original by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n\t\t\t// +    revised by: Kankrelune (http://www.webfaktory.info/)\n\t\t\t// %        note 1: Uses an internal counter (in php_js global) to avoid collision\n\t\t\t// *     example 1: uniqid();\n\t\t\t// *     returns 1: 'a30285b160c14'\n\t\t\t// *     example 2: uniqid('foo');\n\t\t\t// *     returns 2: 'fooa30285b1cd361'\n\t\t\t// *     example 3: uniqid('bar', true);\n\t\t\t// *     returns 3: 'bara20285b23dfd1.31879087'\n\t\t\tif (typeof prefix === 'undefined') {\n\t\t\t\tprefix = \"\";\n\t\t\t}\n\n\t\t\tvar retId;\n\t\t\tvar formatSeed = function (seed, reqWidth) {\n\t\t\t\tseed = parseInt(seed, 10).toString(16); // to hex str\n\t\t\t\tif (reqWidth < seed.length) { // so long we split\n\t\t\t\t\treturn seed.slice(seed.length - reqWidth);\n\t\t\t\t}\n\t\t\t\tif (reqWidth > seed.length) { // so short we pad\n\t\t\t\t\treturn new Array(1 + (reqWidth - seed.length)).join('0') + seed;\n\t\t\t\t}\n\t\t\t\treturn seed;\n\t\t\t};\n\n\t\t\t// BEGIN REDUNDANT\n\t\t\tif (!this.php_js) {\n\t\t\t\tthis.php_js = {};\n\t\t\t}\n\t\t\t// END REDUNDANT\n\t\t\tif (!this.php_js.uniqidSeed) { // init seed with big random int\n\t\t\t\tthis.php_js.uniqidSeed = Math.floor(Math.random() * 0x75bcd15);\n\t\t\t}\n\t\t\tthis.php_js.uniqidSeed++;\n\n\t\t\tretId = prefix; // start with prefix, add current milliseconds hex string\n\t\t\tretId += formatSeed(parseInt(new Date().getTime() / 1000, 10), 8);\n\t\t\tretId += formatSeed(this.php_js.uniqidSeed, 5); // add seed hex string\n\t\t\tif (more_entropy) {\n\t\t\t\t// for more entropy we add a float lower to 10\n\t\t\t\tretId += (Math.random() * 10).toFixed(8).toString();\n\t\t\t}\n\n\t\t\treturn retId;\n\t\t}\n\t};\n\n\tjQuery.fn[plugin_name] = function(options){\n\t\tthis.each(function(){\n\t\t\tif(!jQuery.data(this, \"plugin_\" + plugin_name)){\n\t\t\t\tjQuery.data(this, \"plugin_\" + plugin_name, new SearchwpLiveSearch(jQuery(this), options));\n\t\t\t}\n\t\t});\n\n\t\t// chain jQuery functions\n\t\treturn this;\n\t};\n})(window.jQuery);\n\n// find all applicable SearchWP Live Search inputs and bind them\njQuery(document).ready(function($){\n\tjQuery('input[data-swplive=\"true\"]').searchwp_live_search();\n});\n"]}